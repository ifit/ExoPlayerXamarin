<?xml version="1.0" encoding="UTF-8"?>
<metadata>
    <!-- Implementation of an interface method, or override of a method: a parameter or return type must be of the original type instead of a derived class (permitted in java) -->
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2.drm']/class[@name='DrmInitData']/method[@name='compare']/parameter">java.lang.Object</attr>

    <attr name="return" path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='HttpDataSource.BaseFactory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <attr name="return" path="/api/package[@name='com.google.android.exoplayer2.upstream']/interface[@name='HttpDataSource.Factory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>

    <attr name="return" path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='DefaultHttpDataSource.Factory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <attr name="return" path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='DefaultHttpDataSource.Factory']/method[@name='setDefaultRequestProperties' and count(parameter)=1]">Com.Google.Android.Exoplayer2.Upstream.IHttpDataSourceFactory</attr>

    <!-- Public classes inheriting private classes or returning private classes in method parameters (permitted in java) -->

    <!-- Rename (naming conflict not resolved correctly, interface method renamed instead of new method) -->
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2.offline']/class[@name='StreamKey']/method[@name='compareTo']/parameter">java.lang.Object</attr>

    <!-- Remove method (abstract or interface) already implemented because it uses derived parameters -->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.upstream']/interface[@name='HttpDataSource']/method[@name='getResponseHeaders' and count(parameter)=0]" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.upstream']/interface[@name='DataSource']/method[@name='getResponseHeaders' and count(parameter)=0]" />

    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player.EventListener']/method[@name='onTimelineChanged' and count(parameter)=3 and parameter[1][@type='com.google.android.exoplayer2.Timeline'] and parameter[2][@type='java.lang.Object'] and parameter[3][@type='int']]" />

    <!-- deprecated fields that error -->

    <remove-node path="/api/package[@name='com.google.android.exoplayer2.source.ads']/class[@name='AdPlaybackState.AdGroup']/field[@name='uris']"/>

    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='addMediaItems' and count(parameter)=1]/parameter[1]">mediaItems</attr>
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='addMediaItems' and count(parameter)=1]/parameter[1]">java.lang.Object</attr>

    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='addMediaItems' and count(parameter)=2]/parameter[1]">index</attr>
    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='addMediaItems' and count(parameter)=2]/parameter[2]">mediaItems</attr>
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='addMediaItems' and count(parameter)=2]/parameter[2]">java.lang.Object</attr>

    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=1]/parameter[1]">mediaItems</attr>
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=1]/parameter[1]">java.lang.Object</attr>

    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=2]/parameter[1]">mediaItems</attr>
    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=2]/parameter[2]">resetPosition</attr>
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=2]/parameter[1]">java.lang.Object</attr>

    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=3]/parameter[1]">mediaItems</attr>
    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=3]/parameter[2]">startWindowIndex</attr>
    <attr name="name" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=3]/parameter[3]">startPositionMs</attr>
    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setMediaItems' and count(parameter)=3]/parameter[1]">java.lang.Object</attr>

    <attr name="type" path="/api/package[@name='com.google.android.exoplayer2']/class[@name='BasePlayer']/method[@name='setMediaItems' and count(parameter)=1]/parameter[1]">java.lang.Object</attr>

    <attr name="propertyName" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='getPlayWhenReady' and count(parameter)=0]" />
    <attr name="propertyName" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setPlayWhenReady' and count(parameter)=1]" />

    <attr name="propertyName" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='getRepeatMode' and count(parameter)=0]" />
    <attr name="propertyName" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setRepeatMode' and count(parameter)=1]" />

    <attr name="propertyName" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='getShuffleModeEnabled' and count(parameter)=0]" />
    <attr name="propertyName" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='setShuffleModeEnabled' and count(parameter)=1]" />

    <attr name="return" path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='Player']/method[@name='getCurrentStaticMetadata' and count(parameter)=0]">java.lang.Object</attr>
</metadata>
